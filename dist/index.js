function e(e,n){var t,o,r=(t={current:0,next:function(){return++this.current}},o={},{add:function(e,n){var r=null!=n?n:t.next();return o[r]=e,r},resolve:function(e,n,t,r){var i=o[e];i&&(t(r)?i.resolve(n):i.reject(r),o[e]=null)}});return n(function(e){if(e.detail&&"reqId"in e.detail){var n=e.detail,t=n.reqId;t&&r.resolve(t,n.data,function(e){return!e},n.error)}}),function(){var n=arguments;return new Promise(function(t,o){var i=r.add({resolve:t,reject:o});e.apply(void 0,[i].concat([].slice.call(n)))})}}var n=new URLSearchParams(window.location.search).get("__aitu-domain"),t=null;n&&(t={origin:n,execute:function(e,n){window.top.postMessage({source:"aitu-bridge",method:e,reqId:n,payload:[].slice.call(arguments,2)},t.origin)}},window.addEventListener("message",function(e){e.origin===n&&e.data&&window.dispatchEvent(new CustomEvent("aituEvents",{detail:e.data}))}));var o,r,i=t;!function(e){e.getMe="GetMe",e.getPhone="GetPhone",e.getContacts="GetContacts",e.getUserProfile="GetUserProfile",e.enableNotifications="AllowNotifications",e.disableNotifications="DisableNotifications"}(o||(o={})),(r=exports.HeaderMenuIcon||(exports.HeaderMenuIcon={})).Search="Search",r.ShoppingCart="ShoppingCart",r.Menu="Menu",r.Share="Share",r.Notifications="Notifications",r.Help="Help",r.Error="Error",r.Person="Person",r.Sort="Sort",r.Filter="Filter";var s="undefined"!=typeof window&&window.AndroidBridge,a="undefined"!=typeof window&&window.webkit&&window.webkit.messageHandlers,d="undefined"!=typeof window&&window.top!==window&&i,c=function(){var n=[];"undefined"!=typeof window&&window.addEventListener("aituEvents",function(e){[].concat(n).map(function(n){return n.call(null,e)})});var t,r,i,c=function(e){n.push(e)},u=(t={current:0,next:function(){return++this.current}},r={},i={add:function(e,n){var o=null!=n?n:t.next();return r[o]=e,o},resolve:function(e,n,t,o){var i=r[e];i&&(t(o)?i.resolve(n):i.reject(o),r[e]=null)}},c(function(e){if(e.detail&&"reqId"in e.detail){var n=e.detail,t=n.reqId;t&&i.resolve(t,n.data,function(e){return!e},n.error)}}),function(e,n){return void 0===n&&(n={}),new Promise(function(t,o){!function(e,n,t){void 0===t&&(t={});var o=a&&a.invoke;s&&s.invoke?s.invoke(e,n,JSON.stringify(t)):o?a.invoke.postMessage({reqId:e,method:n,data:t}):d?d.execute("invoke",e,t):"undefined"!=typeof window&&console.log("--invoke-isUnknown")}(i.add({resolve:t,reject:o},n.reqId),e,n)})}),l=function(e,n){var t,o,r=(t={current:0,next:function(){return++this.current}},o={},{add:function(e,n){var r="s"+(null!=n?n:t.next());return o[r]=e,r},resolve:function(e,n,t,r){var i=o[e];i&&(t(r)?i.resolve(n):i.reject(r),o[e]=null)}});return n(function(e){if(e.detail&&"reqId"in e.detail){var n=e.detail,t=n.reqId;t&&r.resolve(t,n.data,function(e){return!e},n.error)}}),{setItem:function(n,t){return new Promise(function(o,i){var s=r.add({resolve:o,reject:i});e(s,"setItem",{keyName:n,keyValue:t})})},getItem:function(n){return new Promise(function(t,o){var i=r.add({resolve:t,reject:o});e(i,"getItem",{keyName:n})})},clear:function(){return new Promise(function(n,t){var o=r.add({resolve:n,reject:t});e(o,"clear",{})})}}}(function(e,n,t){void 0===t&&(t={});var o=a&&a.storage;s&&s.storage?s.storage(e,n,JSON.stringify(t)):o?a.storage.postMessage({reqId:e,method:n,data:t}):d?d.execute("storage",e,{method:n,data:t}):"undefined"!=typeof window&&console.log("--storage-isUnknown")},c),f=e(function(e){var n=a&&a.getGeo;s&&s.getGeo?s.getGeo(e):n?a.getGeo.postMessage({reqId:e}):d?d.execute("getGeo",e):"undefined"!=typeof window&&console.log("--getGeo-isUnknown")},c),w=e(function(e){var n=a&&a.getQr;s&&s.getQr?s.getQr(e):n?a.getQr.postMessage({reqId:e}):d?d.execute("getQr",e):"undefined"!=typeof window&&console.log("--getQr-isUnknown")},c),p=e(function(e){var n=a&&a.getSMSCode;s&&s.getSMSCode?s.getSMSCode(e):n?a.getSMSCode.postMessage({reqId:e}):d?d.execute("getSMSCode",e):"undefined"!=typeof window&&console.log("--getSMSCode-isUnknown")},c),g=e(function(e){var n=a&&a.selectContact;s&&s.selectContact?s.selectContact(e):n?a.selectContact.postMessage({reqId:e}):d?d.execute("selectContact",e):"undefined"!=typeof window&&console.log("--selectContact-isUnknown")},c),v=e(function(e){var n=a&&a.openSettings;s&&s.openSettings?s.openSettings(e):n?a.openSettings.postMessage({reqId:e}):d?d.execute("openSettings",e):"undefined"!=typeof window&&console.log("--openSettings-isUnknown")},c),k=e(function(e){var n=a&&a.closeApplication;s&&s.closeApplication?s.closeApplication(e):n?a.closeApplication.postMessage({reqId:e}):d?d.execute("closeApplication",e):"undefined"!=typeof window&&console.log("--closeApplication-isUnknown")},c),C=e(function(e,n){var t=a&&a.share;s&&s.share?s.share(e,n):t?a.share.postMessage({reqId:e,text:n}):d?d.execute("share",e,{text:n}):"undefined"!=typeof window&&console.log("--share-isUnknown")},c),m=e(function(e,n){var t=a&&a.setTitle;s&&s.setTitle?s.setTitle(e,n):t?a.setTitle.postMessage({reqId:e,text:n}):d?d.execute("setTitle",e,{text:n}):"undefined"!=typeof window&&console.log("--setTitle-isUnknown")},c),M=e(function(e,n){var t=a&&a.copyToClipboard;s&&s.copyToClipboard?s.copyToClipboard(e,n):t?a.copyToClipboard.postMessage({reqId:e,text:n}):d?d.execute("copyToClipboard",e,{text:n}):"undefined"!=typeof window&&console.log("--copyToClipboard-isUnknown")},c),b=e(function(e,n,t){var o=s&&s.shareFile,r=a&&a.shareFile,i="image."+t.split(";")[0].split("/")[1],c=t.substr(t.indexOf(",")+1);o?s.shareFile(e,n,i,c):r?a.shareFile.postMessage({reqId:e,text:n,filename:i,base64Data:c}):d?d.execute("shareFile",e,{text:n,filename:i,base64Data:c}):"undefined"!=typeof window&&console.log("--shareFile-isUnknown")},c),S=e(function(e,n,t,o){var r=a&&a.shareFile;s&&s.shareFile?s.shareFile(e,n,t,o):r?a.shareFile.postMessage({reqId:e,text:n,filename:t,base64Data:o}):d?d.execute("shareFile",e,{text:n,filename:t,base64Data:o}):"undefined"!=typeof window&&console.log("--shareFile-isUnknown")},c),h=e(function(e,n){if(!Array.isArray(n)||n.some(function(e){return e<1||e!==Math.floor(e)})||n.reduce(function(e,n){return e+n})>1e4)console.error("Pattern should be an array of positive integers no longer than 10000ms total");else{var t=a&&a.vibrate;s&&s.vibrate?s.vibrate(e,JSON.stringify(n)):t?a.vibrate.postMessage({reqId:e,pattern:n}):d?d.execute("vibrate",e,{pattern:n}):"undefined"!=typeof window&&console.log("--vibrate-isUnknown")}},c),y=e(function(e){var n=a&&a.enableScreenCapture;s&&s.enableScreenCapture?s.enableScreenCapture(e):n?a.enableScreenCapture.postMessage({reqId:e}):d?d.execute("enableScreenCapture",e):"undefined"!=typeof window&&console.log("--enableScreenCapture-isUnknown")},c),A=e(function(e){var n=a&&a.disableScreenCapture;s&&s.disableScreenCapture?s.disableScreenCapture(e):n?a.disableScreenCapture.postMessage({reqId:e}):d?d.execute("disableScreenCapture",e):"undefined"!=typeof window&&console.log("--disableScreenCapture-isUnknown")},c),I=e(function(e,n){if(n.length>3)console.error("SetHeaderMenuItems: items count should not be more than 3");else{var t=s&&s.setHeaderMenuItems,o=a&&a.setHeaderMenuItems,r=JSON.stringify(n);t?s.setHeaderMenuItems(e,r):o?a.setHeaderMenuItems.postMessage({reqId:e,itemsJsonArray:r}):d?d.execute("setHeaderMenuItems",e,{itemsJsonArray:r}):"undefined"!=typeof window&&console.log("--setHeaderMenuItems-isUnknown")}},c),x=e(function(e,n){var t=a&&a.setCustomBackArrowMode;s&&s.setCustomBackArrowMode?s.setCustomBackArrowMode(e,n):t?a.setCustomBackArrowMode.postMessage({reqId:e,enabled:n}):d?d.execute("setCustomBackArrowMode",e,{enabled:n}):"undefined"!=typeof window&&console.log("--setCustomBackArrowMode-isUnknown")},c),H=e(function(e){var n=a&&a.getCustomBackArrowMode;s&&s.getCustomBackArrowMode?s.getCustomBackArrowMode(e):n?a.getCustomBackArrowMode.postMessage({reqId:e}):d?d.execute("getCustomBackArrowMode",e):"undefined"!=typeof window&&console.log("--getCustomBackArrowMode-isUnknown")},c),B=e(function(e,n){var t=a&&a.setCustomBackArrowVisible;s&&s.setCustomBackArrowVisible?s.setCustomBackArrowVisible(e,n):t?a.setCustomBackArrowVisible.postMessage({reqId:e,visible:n}):d?d.execute("setCustomBackArrowVisible",e,{visible:n}):"undefined"!=typeof window&&console.log("--setCustomBackArrowVisible-isUnknown")},c);return{version:String("0.2.20"),copyToClipboard:M,invoke:u,storage:l,getMe:function(){return u(o.getMe)},getPhone:function(){return u(o.getPhone)},getContacts:function(){return u(o.getContacts)},getGeo:f,getQr:w,getSMSCode:p,getUserProfile:function(e){return u(o.getUserProfile,{id:e})},selectContact:g,enableNotifications:function(){return u(o.enableNotifications)},disableNotifications:function(){return u(o.disableNotifications)},openSettings:v,closeApplication:k,setTitle:m,share:C,shareImage:b,shareFile:S,setShakeHandler:function(e){s&&s.setShakeHandler||a&&a.setShakeHandler||d?window.onAituBridgeShake=e:"undefined"!=typeof window&&console.log("--setShakeHandler-isUnknown")},setTabActiveHandler:function(e){s&&s.setTabActiveHandler||a&&a.setTabActiveHandler||d?window.onAituBridgeTabActive=e:"undefined"!=typeof window&&console.log("--setTabActiveHandler-isUnknown")},vibrate:h,isSupported:function(){var e=a&&window.webkit.messageHandlers.invoke;return Boolean(s||e||d)},supports:function(e){return s&&"function"==typeof s[e]||a&&a[e]&&"function"==typeof a[e].postMessage||d&&"function"==typeof d[e]},sub:c,enableScreenCapture:y,disableScreenCapture:A,setHeaderMenuItems:I,setHeaderMenuItemClickHandler:function(e){s&&s.setHeaderMenuItemClickHandler||a&&a.setHeaderMenuItemClickHandler||d?window.onAituBridgeHeaderMenuItemClick=e:"undefined"!=typeof window&&console.log("--setHeaderMenuItemClickHandler-isUnknown")},setCustomBackArrowMode:x,getCustomBackArrowMode:H,setCustomBackArrowVisible:B,setCustomBackArrowOnClickHandler:function(e){s&&s.setCustomBackArrowOnClickHandler||a&&a.setCustomBackArrowOnClickHandler||d?window.onAituBridgeBackArrowClick=e:"undefined"!=typeof window&&console.log("--setCustomBackArrowOnClickHandler-isUnknown")}}}();exports.default=c;
//# sourceMappingURL=index.js.map
