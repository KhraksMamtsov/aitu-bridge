function e(e){var n=function(e){return void 0===e&&(e="m:"),{current:0,next:function(){return e+ ++this.current}}}(e),o={};return{add:function(e,t){void 0===t&&(t="");var r=t+n.next();return o[r]=e,r},resolve:function(e,n,t,r){var i=o[e];i&&(t(r)?i.resolve(n):i.reject(r),o[e]=null)}}}function n(e,n){e(function(e){if(e.detail&&"reqId"in e.detail){var o=e.detail,t=o.reqId;t&&n.resolve(t,o.data,function(e){return!e},o.error)}})}function o(o,t,r){var i=e(t+":");return n(r,i),function(){var e=arguments;return new Promise(function(n,t){var r=i.add({resolve:n,reject:t});o.apply(void 0,[r].concat([].slice.call(e)))})}}var t=new URLSearchParams(window.location.search).get("__aitu-domain"),r=null;t&&(r={origin:t,execute:function(e,n){window.top.postMessage({source:"aitu-bridge",method:e,reqId:n,payload:[].concat([].slice.call(arguments,2))},r.origin)}},window.addEventListener("message",function(e){e.origin===t&&e.data&&window.dispatchEvent(new CustomEvent("aituEvents",{detail:e.data}))}));var i,s,a=r;console.log("%c"+(new Date).toISOString().slice(11)+"%c LOCAL BRIDGE %c HELLO!","color: white; font-weight: bold; background: BlueViolet","color: magenta","color: lime"),function(e){e.getMe="GetMe",e.getPhone="GetPhone",e.getContacts="GetContacts",e.getUserProfile="GetUserProfile",e.enableNotifications="AllowNotifications",e.disableNotifications="DisableNotifications"}(i||(i={})),(s=exports.HeaderMenuIcon||(exports.HeaderMenuIcon={})).Search="Search",s.ShoppingCart="ShoppingCart",s.Menu="Menu",s.Share="Share",s.Notifications="Notifications",s.Help="Help",s.Error="Error",s.Person="Person",s.Sort="Sort",s.Filter="Filter";var c="undefined"!=typeof window&&window.AndroidBridge,d="undefined"!=typeof window&&window.webkit&&window.webkit.messageHandlers,l="undefined"!=typeof window&&window.top!==window&&a,u=function(){var t=[];"undefined"!=typeof window&&window.addEventListener("aituEvents",function(e){[].concat(t).map(function(n){return n.call(null,e)})});var r,s=function(e){t.push(e)},a=(n(s,r=e("invoke:")),function(e,n){return void 0===n&&(n={}),new Promise(function(o,t){!function(e,n,o){void 0===o&&(o={});var t=d&&d.invoke;c&&c.invoke?c.invoke(e,n,JSON.stringify(o)):t?d.invoke.postMessage({reqId:e,method:n,data:o}):l?l.execute("invoke",e,n,o):"undefined"!=typeof window&&console.log("--invoke-isUnknown")}(r.add({resolve:o,reject:t},e+":"),e,n)})}),u=function(o,t){var r=e("storage:");return n(t,r),{setItem:function(e,n){return new Promise(function(t,i){var s=r.add({resolve:t,reject:i});o(s,"setItem",{keyName:e,keyValue:n})})},getItem:function(e){return new Promise(function(n,t){var i=r.add({resolve:n,reject:t});o(i,"getItem",{keyName:e})})},clear:function(){return new Promise(function(e,n){var t=r.add({resolve:e,reject:n});o(t,"clear",{})})}}}(function(e,n,o){void 0===o&&(o={});var t=d&&d.storage;c&&c.storage?c.storage(e,n,JSON.stringify(o)):t?d.storage.postMessage({reqId:e,method:n,data:o}):l?l.execute("storage",e,n,o):"undefined"!=typeof window&&console.log("--storage-isUnknown")},s),w=o(function(e){var n=d&&d.getGeo;c&&c.getGeo?c.getGeo(e):n?d.getGeo.postMessage({reqId:e}):l?l.execute("getGeo",e):"undefined"!=typeof window&&console.log("--getGeo-isUnknown")},"getGeo",s),f=o(function(e){var n=d&&d.getQr;c&&c.getQr?c.getQr(e):n?d.getQr.postMessage({reqId:e}):l?l.execute("getQr",e):"undefined"!=typeof window&&console.log("--getQr-isUnknown")},"getQr",s),g=o(function(e){var n=d&&d.getSMSCode;c&&c.getSMSCode?c.getSMSCode(e):n?d.getSMSCode.postMessage({reqId:e}):l?l.execute("getSMSCode",e):"undefined"!=typeof window&&console.log("--getSMSCode-isUnknown")},"getSMSCode",s),p=o(function(e){var n=d&&d.selectContact;c&&c.selectContact?c.selectContact(e):n?d.selectContact.postMessage({reqId:e}):l?l.execute("selectContact",e):"undefined"!=typeof window&&console.log("--selectContact-isUnknown")},"selectContact",s),C=o(function(e){var n=d&&d.openSettings;c&&c.openSettings?c.openSettings(e):n?d.openSettings.postMessage({reqId:e}):l?l.execute("openSettings",e):"undefined"!=typeof window&&console.log("--openSettings-isUnknown")},"openSettings",s),k=o(function(e){var n=d&&d.closeApplication;c&&c.closeApplication?c.closeApplication(e):n?d.closeApplication.postMessage({reqId:e}):l?l.execute("closeApplication",e):"undefined"!=typeof window&&console.log("--closeApplication-isUnknown")},"closeApplication",s),v=o(function(e,n){var o=d&&d.share;c&&c.share?c.share(e,n):o?d.share.postMessage({reqId:e,text:n}):l?l.execute("share",e,n):"undefined"!=typeof window&&console.log("--share-isUnknown")},"share",s),m=o(function(e,n){var o=d&&d.setTitle;c&&c.setTitle?c.setTitle(e,n):o?d.setTitle.postMessage({reqId:e,text:n}):l?l.execute("setTitle",e,n):"undefined"!=typeof window&&console.log("--setTitle-isUnknown")},"setTitle",s),M=o(function(e,n){var o=d&&d.copyToClipboard;c&&c.copyToClipboard?c.copyToClipboard(e,n):o?d.copyToClipboard.postMessage({reqId:e,text:n}):l?l.execute("copyToClipboard",e,n):"undefined"!=typeof window&&console.log("--copyToClipboard-isUnknown")},"copyToClipboard",s),b=o(function(e,n,o){var t=c&&c.shareFile,r=d&&d.shareFile,i="image."+o.split(";")[0].split("/")[1],s=o.substr(o.indexOf(",")+1);t?c.shareFile(e,n,i,s):r?d.shareFile.postMessage({reqId:e,text:n,filename:i,base64Data:s}):l?l.execute("shareFile",e,{text:n,filename:i,base64Data:s}):"undefined"!=typeof window&&console.log("--shareFile-isUnknown")},"shareImage",s),S=o(function(e,n,o,t){var r=d&&d.shareFile;c&&c.shareFile?c.shareFile(e,n,o,t):r?d.shareFile.postMessage({reqId:e,text:n,filename:o,base64Data:t}):l?l.execute("shareFile",e,n,o,t):"undefined"!=typeof window&&console.log("--shareFile-isUnknown")},"shareFile",s),h=o(function(e,n){if(!Array.isArray(n)||n.some(function(e){return e<1||e!==Math.floor(e)})||n.reduce(function(e,n){return e+n})>1e4)console.error("Pattern should be an array of positive integers no longer than 10000ms total");else{var o=d&&d.vibrate;c&&c.vibrate?c.vibrate(e,JSON.stringify(n)):o?d.vibrate.postMessage({reqId:e,pattern:n}):l?l.execute("vibrate",e,n):"undefined"!=typeof window&&console.log("--vibrate-isUnknown")}},"vibrate",s),y=o(function(e){var n=d&&d.enableScreenCapture;c&&c.enableScreenCapture?c.enableScreenCapture(e):n?d.enableScreenCapture.postMessage({reqId:e}):l?l.execute("enableScreenCapture",e):"undefined"!=typeof window&&console.log("--enableScreenCapture-isUnknown")},"enableScreenCapture",s),A=o(function(e){var n=d&&d.disableScreenCapture;c&&c.disableScreenCapture?c.disableScreenCapture(e):n?d.disableScreenCapture.postMessage({reqId:e}):l?l.execute("disableScreenCapture",e):"undefined"!=typeof window&&console.log("--disableScreenCapture-isUnknown")},"disableScreenCapture",s),I=o(function(e,n){if(n.length>3)console.error("SetHeaderMenuItems: items count should not be more than 3");else{var o=c&&c.setHeaderMenuItems,t=d&&d.setHeaderMenuItems,r=JSON.stringify(n);o?c.setHeaderMenuItems(e,r):t?d.setHeaderMenuItems.postMessage({reqId:e,itemsJsonArray:r}):l?l.execute("setHeaderMenuItems",e,r):"undefined"!=typeof window&&console.log("--setHeaderMenuItems-isUnknown")}},"setHeaderMenuItems",s),B=o(function(e,n){var o=d&&d.setCustomBackArrowMode;c&&c.setCustomBackArrowMode?c.setCustomBackArrowMode(e,n):o?d.setCustomBackArrowMode.postMessage({reqId:e,enabled:n}):l?l.execute("setCustomBackArrowMode",e,n):"undefined"!=typeof window&&console.log("--setCustomBackArrowMode-isUnknown")},"setCustomBackArrowMode",s),H=o(function(e){var n=d&&d.getCustomBackArrowMode;c&&c.getCustomBackArrowMode?c.getCustomBackArrowMode(e):n?d.getCustomBackArrowMode.postMessage({reqId:e}):l?l.execute("getCustomBackArrowMode",e):"undefined"!=typeof window&&console.log("--getCustomBackArrowMode-isUnknown")},"getCustomBackArrowMode",s),x=o(function(e,n){var o=d&&d.setCustomBackArrowVisible;c&&c.setCustomBackArrowVisible?c.setCustomBackArrowVisible(e,n):o?d.setCustomBackArrowVisible.postMessage({reqId:e,visible:n}):l?l.execute("setCustomBackArrowVisible",e,n):"undefined"!=typeof window&&console.log("--setCustomBackArrowVisible-isUnknown")},"setCustomBackArrowVisible",s);return{version:String("0.2.20"),copyToClipboard:M,invoke:a,storage:u,getMe:function(){return a(i.getMe)},getPhone:function(){return a(i.getPhone)},getContacts:function(){return a(i.getContacts)},getGeo:w,getQr:f,getSMSCode:g,getUserProfile:function(e){return a(i.getUserProfile,{id:e})},selectContact:p,enableNotifications:function(){return a(i.enableNotifications)},disableNotifications:function(){return a(i.disableNotifications)},openSettings:C,closeApplication:k,setTitle:m,share:v,shareImage:b,shareFile:S,setShakeHandler:function(e){c&&c.setShakeHandler||d&&d.setShakeHandler||l?window.onAituBridgeShake=e:"undefined"!=typeof window&&console.log("--setShakeHandler-isUnknown")},setTabActiveHandler:function(e){c&&c.setTabActiveHandler||d&&d.setTabActiveHandler||l?window.onAituBridgeTabActive=e:"undefined"!=typeof window&&console.log("--setTabActiveHandler-isUnknown")},vibrate:h,isSupported:function(){var e=d&&window.webkit.messageHandlers.invoke;return Boolean(c||e||l)},supports:function(e){return c&&"function"==typeof c[e]||d&&d[e]&&"function"==typeof d[e].postMessage||l&&"function"==typeof l[e]},sub:s,enableScreenCapture:y,disableScreenCapture:A,setHeaderMenuItems:I,setHeaderMenuItemClickHandler:function(e){c&&c.setHeaderMenuItemClickHandler||d&&d.setHeaderMenuItemClickHandler||l?window.onAituBridgeHeaderMenuItemClick=e:"undefined"!=typeof window&&console.log("--setHeaderMenuItemClickHandler-isUnknown")},setCustomBackArrowMode:B,getCustomBackArrowMode:H,setCustomBackArrowVisible:x,setCustomBackArrowOnClickHandler:function(e){c&&c.setCustomBackArrowOnClickHandler||d&&d.setCustomBackArrowOnClickHandler||l?window.onAituBridgeBackArrowClick=e:"undefined"!=typeof window&&console.log("--setCustomBackArrowOnClickHandler-isUnknown")}}}();exports.default=u;
//# sourceMappingURL=index.js.map
